#started Wed Jul 10 19:12:59 IST 2024
!use druidtest:///?componentSupplier=KttmNestedComponentSupplier
!set outputformat mysql
# Wed Jul 10 19:13:09 IST 2024
SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'druid';
!ok
# Wed Jul 10 19:13:19 IST 2024
SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'druid';
!ok
# Wed Jul 10 19:13:46 IST 2024
SELECT
MAX(CAST(t."__time" AS TIMESTAMP)) AS "__VALUE__"
FROM "kttm_nested" AS t
GROUP BY ();
!ok
# Wed Jul 10 19:13:46 IST 2024
SELECT
MAX(CAST(t."__time" AS TIMESTAMP)) AS "__VALUE__"
FROM "kttm_nested" AS t
GROUP BY ();
!ok
# Wed Jul 10 19:13:46 IST 2024
SELECT
(COUNT(*)) AS "__VALUE__"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY ();
!ok
# Wed Jul 10 19:14:06 IST 2024
SELECT
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 01:00:00'))) AS "v0",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 01:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 02:00:00'))) AS "v1"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 02:00:00')
GROUP BY ();
!ok
# Wed Jul 10 19:14:06 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 02:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1;
!ok
# Wed Jul 10 19:14:09 IST 2024
SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'druid';
!ok
# Wed Jul 10 19:14:18 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "count" DESC
LIMIT 10;
!ok
# Wed Jul 10 19:14:18 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:18 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1;
!ok
# Wed Jul 10 19:14:20 IST 2024
SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'druid';
!ok
# Wed Jul 10 19:14:22 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "count" DESC
LIMIT 1000;
!ok
# Wed Jul 10 19:14:22 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST')) AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Chrome'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:23 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST')) AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome Mobile','Safari'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:23 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST')) AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Mobile Safari','Chrome Mobile','Safari'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:25 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST')) AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Chrome Mobile','Mobile Safari','Safari'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:26 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST')) AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Chrome','Chrome Mobile','Mobile Safari','Safari'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:32 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "r"
FROM "kttm_nested" AS t
WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00')
GROUP BY 1
ORDER BY "r" DESC
LIMIT 101;
!ok
# Wed Jul 10 19:14:35 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile'))
GROUP BY 1
ORDER BY "count" DESC
LIMIT 10;
!ok
# Wed Jul 10 19:14:35 IST 2024
SELECT
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00'))) AS "v0",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00'))) AS "v1",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 01:00:00'))) AS "v2",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 00:00:00'))) AS "v3",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 01:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 02:00:00'))) AS "v4",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 01:00:00'))) AS "v5"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile'))
GROUP BY ();
!ok
# Wed Jul 10 19:14:35 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile'))
GROUP BY 1
ORDER BY "count" DESC
LIMIT 1000;
!ok
# Wed Jul 10 19:14:35 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:36 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Chrome')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:36 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:36 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:36 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:36 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:40 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:40 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:40 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:40 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:42 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:42 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:42 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:42 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:43 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:43 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:44 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:44 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-24 23:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 23:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:44 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:44 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1H', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 00:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-26 00:00:00') AND CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) IN ('Mobile Safari','Chrome','Chrome Mobile')) AND CAST(t."timezone" AS VARCHAR) IN ('N/A','EDT','CDT','PDT','CEST','BST','MDT','MST','MSK','EEST'))
GROUP BY 1,2,3;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari'))
GROUP BY 1
ORDER BY "count" DESC
LIMIT 10;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 17:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00'))) AS "v0",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 17:00:00'))) AS "v1",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 17:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 17:01:00'))) AS "v2",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 16:01:00'))) AS "v3",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 17:01:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 17:02:00'))) AS "v4",
(COUNT(*) FILTER (WHERE (TIMESTAMP '2019-08-25 16:01:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 16:02:00'))) AS "v5"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari'))
GROUP BY ();
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR) AS "Browser",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE ((TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari'))
GROUP BY 1
ORDER BY "count" DESC
LIMIT 1000;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1M', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 17:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','BST','CEST','MDT','MST','N/A','IST','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
TIME_FLOOR(CAST(t."__time" AS TIMESTAMP), 'PT1M', NULL, 'Etc/UTC') AS "__time",
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 17:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','BST','CEST','MDT','MST','N/A','IST','EEST'))
GROUP BY 1,2;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 17:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 18:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','BST','CEST','MDT','MST','N/A','IST','EEST'))
GROUP BY 1;
!ok
# Wed Jul 10 19:14:49 IST 2024
SELECT
CAST(t."timezone" AS VARCHAR) AS "timezone",
(COUNT(*)) AS "count"
FROM "kttm_nested" AS t
WHERE (((TIMESTAMP '2019-08-25 16:00:00'<=CAST(t."__time" AS TIMESTAMP) AND CAST(t."__time" AS TIMESTAMP)<TIMESTAMP '2019-08-25 17:00:00') AND (CAST(JSON_VALUE("t"."agent",'$.browser') AS VARCHAR)='Mobile Safari')) AND CAST(t."timezone" AS VARCHAR) IN ('EDT','CDT','PDT','BST','CEST','MDT','MST','N/A','IST','EEST'))
GROUP BY 1;
!ok
