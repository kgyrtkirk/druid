!set useApproximateCountDistinct false
!use druidtest://?componentSupplier=StandardMSQComponentSupplier&datasets=sql/src/test/quidem/qatests/qaJsonCols/funcs_and_sql
!set outputformat mysql
SELECT count(*) cnt
FROM test_json_cols;
+-----+
| cnt |
+-----+
|   4 |
+-----+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A001 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(__time) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A002 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(__time) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A003 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(__time) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A004 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths('ABCD') c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A005 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths('ABCD') IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A006 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths('ABCD') IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A007 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(s_str) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A008 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_str) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A009 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_str) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A010 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(1234) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A011 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(1234) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A012 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(1234) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A013 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(s_num_int) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A014 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_num_int) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A015 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_num_int) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A016 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(1234.5678) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A017 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(1234.5678) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A018 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(1234.5678) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A019 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(s_num_float) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A020 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_num_float) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A021 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(s_num_float) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A022 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(NULL) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A023 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(NULL) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A024 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(NULL) IS NOT NULL;
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A025 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(s_str, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A026 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(s_num_int, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A027 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(s_num_float, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A028 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(s_null, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A029 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c_empty_obj, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A030 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c_empty_array, '$')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A031 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c_empty_obj_nested, '$')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A032 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c_empty_array_nested, '$')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A033 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT array_length(json_paths(c1)) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| 130 |
| 130 |
| 130 |
| 130 |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A034 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT array_length(json_paths(json_query(c1, '$.a_obj'))) c
FROM test_json_cols;
+----+
| c  |
+----+
|  1 |
|  1 |
| 40 |
| 40 |
+----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A035 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_str')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A036 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_num_int')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A037 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_num_float')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A038 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_null')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A039 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_empty_obj')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A040 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_empty_array')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A041 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_empty_obj_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A042 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_empty_array_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A043 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_obj')) c
FROM test_json_cols;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                  |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$]                                                                                                                                                                                |
| [$]                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A044 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array')) c
FROM test_json_cols;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                                                                                                                                                                                                                                                                |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$[0].a_bool, $[1].a_num_int, $[0].a_num_int, $[1].a_bool, $[1].a_num_float, $[0].a_num_float, $[1].a_empty_array, $[0].a_empty_array, $[1].a_str, $[1].a_null, $[0].a_null, $[0].a_str, $[1].a_empty_array_nested[2], $[0].a_empty_obj_nested.o3, $[1].a_empty_obj_nested.o2, $[0].a_empty_obj_nested.o2, $[1].a_empty_obj_nested.o3, $[0].a_empty_array_nested[2], $[1].a_empty_array_nested[1], $[0].a_empty_array_nested[1]] |
| [$[0].a_bool, $[1].a_num_int, $[0].a_num_int, $[1].a_bool, $[1].a_num_float, $[0].a_num_float, $[1].a_empty_array, $[0].a_empty_array, $[1].a_str, $[1].a_null, $[0].a_null, $[0].a_str, $[1].a_empty_array_nested[2], $[0].a_empty_obj_nested.o3, $[1].a_empty_obj_nested.o2, $[0].a_empty_obj_nested.o2, $[1].a_empty_obj_nested.o3, $[0].a_empty_array_nested[2], $[1].a_empty_array_nested[1], $[0].a_empty_array_nested[1]] |
| [$]                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [$]                                                                                                                                                                                                                                                                                                                                                                                                                              |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A045 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0]')) c
FROM test_json_cols;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                  |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$]                                                                                                                                                                                |
| [$]                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A046 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_str')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A047 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_num_int')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A048 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_num_float')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A049 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_null')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A050 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_empty_obj')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A051 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_empty_array')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A052 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_empty_obj_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A053 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_array[0].a_empty_array_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A054 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT array_length(json_paths(json_query(c1, '$.a_array'))) c
FROM test_json_cols;
+----+
| c  |
+----+
|  1 |
|  1 |
| 80 |
| 80 |
+----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A055 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT array_length(json_paths(json_query(c1, '$.a_array[0]'))) c
FROM test_json_cols;
+----+
| c  |
+----+
|  1 |
|  1 |
| 40 |
| 40 |
+----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A056 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_str')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A057 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_num_int')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A058 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_num_float')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A059 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_null')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A060 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_empty_obj')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A061 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_empty_array')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A062 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_empty_obj_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A063 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_empty_array_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A064 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj')) c
FROM test_json_cols;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                  |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$]                                                                                                                                                                                |
| [$]                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A065 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_str')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A066 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_num_int')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A067 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_num_float')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A068 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_null')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A069 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_empty_obj')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A070 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_empty_array')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A071 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_empty_obj_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A072 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[0].a_obj.a_empty_array_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A073 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array')) c
FROM test_json_cols;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                                                                                                                                                                                                                                                                |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$[0].a_bool, $[1].a_num_int, $[0].a_num_int, $[1].a_bool, $[1].a_num_float, $[0].a_num_float, $[1].a_empty_array, $[0].a_empty_array, $[1].a_str, $[1].a_null, $[0].a_null, $[0].a_str, $[1].a_empty_array_nested[2], $[0].a_empty_obj_nested.o3, $[1].a_empty_obj_nested.o2, $[0].a_empty_obj_nested.o2, $[1].a_empty_obj_nested.o3, $[0].a_empty_array_nested[2], $[1].a_empty_array_nested[1], $[0].a_empty_array_nested[1]] |
| [$[0].a_bool, $[1].a_num_int, $[0].a_num_int, $[1].a_bool, $[1].a_num_float, $[0].a_num_float, $[1].a_empty_array, $[0].a_empty_array, $[1].a_str, $[1].a_null, $[0].a_null, $[0].a_str, $[1].a_empty_array_nested[2], $[0].a_empty_obj_nested.o3, $[1].a_empty_obj_nested.o2, $[0].a_empty_obj_nested.o2, $[1].a_empty_obj_nested.o3, $[0].a_empty_array_nested[2], $[1].a_empty_array_nested[1], $[0].a_empty_array_nested[1]] |
| [$]                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [$]                                                                                                                                                                                                                                                                                                                                                                                                                              |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A074 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1]')) c
FROM test_json_cols;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                  |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$]                                                                                                                                                                                |
| [$]                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A075 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_str')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A076 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_num_int')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A077 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_num_float')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A078 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_null')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A079 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_empty_obj')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| []  |
| []  |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A080 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_empty_array')) c
FROM test_json_cols;
+-----+
| c   |
+-----+
| [$] |
| [$] |
| [$] |
| [$] |
+-----+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A081 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_empty_obj_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$.o2, $.o3] |
| [$.o2, $.o3] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A082 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_array[1].a_array[1].a_empty_array_nested')) c
FROM test_json_cols;
+--------------+
| c            |
+--------------+
| [$[2], $[1]] |
| [$[2], $[1]] |
| [$]          |
| [$]          |
+--------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A083 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(c1) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A084 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(c1) IS NULL;
+---+
| c |
+---+
| 0 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A085 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM
  (SELECT json_paths(c1)
   FROM test_json_cols);
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A086 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM
  (SELECT ALL json_paths(c1)
   FROM test_json_cols);
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A087 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(mycol) c
FROM
  (SELECT json_paths(c1) mycol
   FROM test_json_cols);
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A088 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(mycol) c
FROM
  (SELECT json_paths(c1) mycol
   FROM test_json_cols);
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A089 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM
  (SELECT DISTINCT json_paths(c1)
   FROM test_json_cols);
+---+
| c |
+---+
| 2 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A090 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT mycol,
       count(*) c
FROM
  (SELECT json_paths(json_query(c1, '$.a_obj.a_obj')) mycol
   FROM test_json_cols)
GROUP BY mycol;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
| mycol                                                                                                                                                                              | c |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] | 2 |
| [$]                                                                                                                                                                                | 2 |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
(2 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A091 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT mycol,
       count(*) c
FROM
  (SELECT c1,
          json_paths(json_query(c1, '$.a_obj.a_obj')) mycol
   FROM test_json_cols)
GROUP BY mycol
HAVING array_contains(mycol, '$.a_str');
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
| mycol                                                                                                                                                                              | c |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] | 2 |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A092 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols
WHERE json_paths(c1) = json_paths(c2);
+---+
| c |
+---+
| 4 |
+---+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A093 TYPE: NEGATIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols t1
INNER JOIN test_json_cols t2 ON json_paths(t1.c1)=json_paths(t2.c1);
QueryUnsupportedException
!error

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A094 TYPE: NEGATIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols t1
LEFT JOIN test_json_cols t2 ON json_paths(t1.c1)=json_paths(t2.c1);
QueryUnsupportedException
!error

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A095 TYPE: NEGATIVE TEST
#-------------------------------------------------------------------------
SELECT count(*) c
FROM test_json_cols t1,
     test_json_cols t2
WHERE json_paths(t1.c1)=json_paths(t2.c1);
QueryUnsupportedException
!error

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A096 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_obj')) c
FROM test_json_cols
ORDER BY __time;
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                  |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$.a_str, $.a_empty_array, $.a_null, $.a_num_int, $.a_bool, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_empty_obj_nested.o2, $.a_num_float, $.a_empty_obj_nested.o3] |
| [$]                                                                                                                                                                                |
| [$]                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A097 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(c1) c
FROM test_json_cols
LIMIT 1;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_array[1].a_array[1].a_str, $.a_obj.a_obj.a_bool, $.a_array[1].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_array[0].a_empty_obj_nested.o3, $.a_obj.a_array[0].a_num_float, $.a_array[1].a_array[0].a_empty_array_nested[1], $.a_array[1].a_array[0].a_empty_array_nested[2], $.a_obj.a_array[0].a_str, $.a_obj.a_array[1].a_null, $.a_str, $.a_array[0].a_obj.a_num_float, $.a_null, $.a_array[0].a_str, $.a_array[1].a_num_float, $.a_array[1].a_array[1].a_num_float, $.a_array[1].a_obj.a_bool, $.a_array[1].a_array[1].a_null, $.a_obj.a_array[1].a_num_float, $.a_array[1].a_num_int, $.a_num_int, $.a_array[0].a_empty_array_nested[2], $.a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[1].a_bool, $.a_obj.a_array[1].a_str, $.a_array[1].a_null, $.a_array[0].a_empty_obj_nested.o2, $.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_num_float, $.a_array[0].a_num_float, $.a_array[0].a_array[0].a_empty_array, $.a_array[1].a_empty_array, $.a_array[1].a_obj.a_str, $.a_array[0].a_obj.a_num_int, $.a_array[0].a_obj.a_null, $.a_array[1].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_num_float, $.a_array[0].a_num_int, $.a_array[0].a_bool, $.a_array[1].a_array[1].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_num_int, $.a_obj.a_array[0].a_bool, $.a_array[1].a_array[1].a_num_int, $.a_array[0].a_array[0].a_bool, $.a_array[1].a_array[0].a_null, $.a_array[0].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_obj.a_empty_obj_nested.o3, $.a_obj.a_bool, $.a_array[1].a_obj.a_num_float, $.a_obj.a_array[1].a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_empty_array, $.a_obj.a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_obj.a_bool, $.a_obj.a_array[1].a_num_int, $.a_obj.a_array[1].a_bool, $.a_num_float, $.a_array[1].a_str, $.a_array[1].a_empty_obj_nested.o3, $.a_array[1].a_empty_obj_nested.o2, $.a_obj.a_obj.a_empty_array_nested[1], $.a_obj.a_obj.a_empty_array_nested[2], $.a_array[0].a_array[1].a_empty_array_nested[1], $.a_array[0].a_obj.a_str, $.a_array[0].a_array[1].a_empty_array_nested[2], $.a_array[1].a_obj.a_num_int, $.a_obj.a_obj.a_num_int, $.a_array[0].a_array[0].a_str, $.a_obj.a_str, $.a_array[0].a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_obj.a_empty_array, $.a_array[0].a_array[1].a_null, $.a_obj.a_num_float, $.a_array[0].a_array[0].a_num_float, $.a_obj.a_obj.a_empty_array, $.a_obj.a_array[0].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_empty_array, $.a_obj.a_array[0].a_empty_array_nested[1], $.a_obj.a_array[0].a_empty_array_nested[2], $.a_obj.a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_str, $.a_obj.a_null, $.a_array[1].a_bool, $.a_obj.a_empty_obj_nested.o2, $.a_bool, $.a_array[1].a_array[0].a_num_int, $.a_obj.a_obj.a_null, $.a_array[0].a_array[0].a_null, $.a_array[1].a_obj.a_empty_obj_nested.o3, $.a_obj.a_num_int, $.a_array[1].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_array[0].a_empty_obj_nested.o3, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_obj.a_empty_array_nested[1], $.a_obj.a_empty_array_nested[2], $.a_array[1].a_obj.a_empty_array_nested[2], $.a_array[0].a_array[0].a_empty_array_nested[2], $.a_array[1].a_array[1].a_empty_array, $.a_empty_obj_nested.o2, $.a_empty_obj_nested.o3, $.a_array[1].a_obj.a_empty_array_nested[1], $.a_empty_array, $.a_array[0].a_obj.a_empty_array, $.a_array[1].a_array[1].a_empty_array_nested[2], $.a_obj.a_empty_array, $.a_array[1].a_array[1].a_bool, $.a_array[1].a_array[1].a_empty_array_nested[1], $.a_array[0].a_array[0].a_num_int, $.a_obj.a_obj.a_str, $.a_array[0].a_null, $.a_obj.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[2], $.a_array[0].a_obj.a_empty_array_nested[1], $.a_array[0].a_obj.a_empty_array_nested[2], $.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[1], $.a_obj.a_array[0].a_null, $.a_array[1].a_array[0].a_str, $.a_array[1].a_empty_array_nested[1], $.a_array[1].a_array[0].a_bool, $.a_array[0].a_array[1].a_num_int, $.a_array[1].a_empty_array_nested[2], $.a_obj.a_array[1].a_empty_array, $.a_array[0].a_array[1].a_num_float, $.a_array[0].a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_empty_obj_nested.o2, $.a_array[1].a_obj.a_null, $.a_obj.a_obj.a_empty_obj_nested.o3] |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(1 row)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A098 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(c1) c
FROM test_json_cols
OFFSET 1;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| c                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_array[1].a_array[1].a_str, $.a_obj.a_obj.a_bool, $.a_array[1].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_array[0].a_empty_obj_nested.o3, $.a_obj.a_array[0].a_num_float, $.a_array[1].a_array[0].a_empty_array_nested[1], $.a_array[1].a_array[0].a_empty_array_nested[2], $.a_obj.a_array[0].a_str, $.a_obj.a_array[1].a_null, $.a_str, $.a_array[0].a_obj.a_num_float, $.a_null, $.a_array[0].a_str, $.a_array[1].a_num_float, $.a_array[1].a_array[1].a_num_float, $.a_array[1].a_obj.a_bool, $.a_array[1].a_array[1].a_null, $.a_obj.a_array[1].a_num_float, $.a_array[1].a_num_int, $.a_num_int, $.a_array[0].a_empty_array_nested[2], $.a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[1].a_bool, $.a_obj.a_array[1].a_str, $.a_array[1].a_null, $.a_array[0].a_empty_obj_nested.o2, $.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_num_float, $.a_array[0].a_num_float, $.a_array[0].a_array[0].a_empty_array, $.a_array[1].a_empty_array, $.a_array[1].a_obj.a_str, $.a_array[0].a_obj.a_num_int, $.a_array[0].a_obj.a_null, $.a_array[1].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_num_float, $.a_array[0].a_num_int, $.a_array[0].a_bool, $.a_array[1].a_array[1].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_num_int, $.a_obj.a_array[0].a_bool, $.a_array[1].a_array[1].a_num_int, $.a_array[0].a_array[0].a_bool, $.a_array[1].a_array[0].a_null, $.a_array[0].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_obj.a_empty_obj_nested.o3, $.a_obj.a_bool, $.a_array[1].a_obj.a_num_float, $.a_obj.a_array[1].a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_empty_array, $.a_obj.a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_obj.a_bool, $.a_obj.a_array[1].a_num_int, $.a_obj.a_array[1].a_bool, $.a_num_float, $.a_array[1].a_str, $.a_array[1].a_empty_obj_nested.o3, $.a_array[1].a_empty_obj_nested.o2, $.a_obj.a_obj.a_empty_array_nested[1], $.a_obj.a_obj.a_empty_array_nested[2], $.a_array[0].a_array[1].a_empty_array_nested[1], $.a_array[0].a_obj.a_str, $.a_array[0].a_array[1].a_empty_array_nested[2], $.a_array[1].a_obj.a_num_int, $.a_obj.a_obj.a_num_int, $.a_array[0].a_array[0].a_str, $.a_obj.a_str, $.a_array[0].a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_obj.a_empty_array, $.a_array[0].a_array[1].a_null, $.a_obj.a_num_float, $.a_array[0].a_array[0].a_num_float, $.a_obj.a_obj.a_empty_array, $.a_obj.a_array[0].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_empty_array, $.a_obj.a_array[0].a_empty_array_nested[1], $.a_obj.a_array[0].a_empty_array_nested[2], $.a_obj.a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_str, $.a_obj.a_null, $.a_array[1].a_bool, $.a_obj.a_empty_obj_nested.o2, $.a_bool, $.a_array[1].a_array[0].a_num_int, $.a_obj.a_obj.a_null, $.a_array[0].a_array[0].a_null, $.a_array[1].a_obj.a_empty_obj_nested.o3, $.a_obj.a_num_int, $.a_array[1].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_array[0].a_empty_obj_nested.o3, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_obj.a_empty_array_nested[1], $.a_obj.a_empty_array_nested[2], $.a_array[1].a_obj.a_empty_array_nested[2], $.a_array[0].a_array[0].a_empty_array_nested[2], $.a_array[1].a_array[1].a_empty_array, $.a_empty_obj_nested.o2, $.a_empty_obj_nested.o3, $.a_array[1].a_obj.a_empty_array_nested[1], $.a_empty_array, $.a_array[0].a_obj.a_empty_array, $.a_array[1].a_array[1].a_empty_array_nested[2], $.a_obj.a_empty_array, $.a_array[1].a_array[1].a_bool, $.a_array[1].a_array[1].a_empty_array_nested[1], $.a_array[0].a_array[0].a_num_int, $.a_obj.a_obj.a_str, $.a_array[0].a_null, $.a_obj.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[2], $.a_array[0].a_obj.a_empty_array_nested[1], $.a_array[0].a_obj.a_empty_array_nested[2], $.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[1], $.a_obj.a_array[0].a_null, $.a_array[1].a_array[0].a_str, $.a_array[1].a_empty_array_nested[1], $.a_array[1].a_array[0].a_bool, $.a_array[0].a_array[1].a_num_int, $.a_array[1].a_empty_array_nested[2], $.a_obj.a_array[1].a_empty_array, $.a_array[0].a_array[1].a_num_float, $.a_array[0].a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_empty_obj_nested.o2, $.a_array[1].a_obj.a_null, $.a_obj.a_obj.a_empty_obj_nested.o3] |
| [$.b_array[1].b_bool, $.b_array[1].b_array[0].b_num_int, $.b_array[0].b_array[0].b_num_float, $.b_obj.b_array[0].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_array_nested[2], $.b_array[0].b_obj.b_bool, $.b_array[1].b_obj.b_str, $.b_obj.b_num_int, $.b_array[0].b_array[1].b_null, $.b_obj.b_array[0].b_bool, $.b_array[1].b_array[0].b_str, $.b_num_float, $.b_array[0].b_array[1].b_empty_obj_nested.o3, $.b_obj.b_str, $.b_array[0].b_str, $.b_array[0].b_bool, $.b_array[0].b_array[1].b_empty_obj_nested.o2, $.b_null, $.b_obj.b_obj.b_empty_obj_nested.o3, $.b_obj.b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[1].b_empty_array, $.b_array[0].b_array[0].b_empty_array_nested[1], $.b_array[0].b_array[0].b_empty_array_nested[2], $.b_obj.b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_array, $.b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_str, $.b_obj.b_array[1].b_bool, $.b_obj.b_array[0].b_str, $.b_obj.b_array[0].b_num_int, $.b_array[1].b_str, $.b_obj.b_array[1].b_num_float, $.b_bool, $.b_array[1].b_obj.b_bool, $.b_array[1].b_obj.b_empty_array, $.b_array[1].b_array[1].b_empty_array, $.b_empty_array_nested[2], $.b_empty_array_nested[1], $.b_array[1].b_array[1].b_bool, $.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_array_nested[2], $.b_obj.b_empty_array, $.b_array[0].b_empty_array, $.b_obj.b_obj.b_num_float, $.b_array[1].b_array[1].b_num_int, $.b_obj.b_array[1].b_null, $.b_array[0].b_array[1].b_num_float, $.b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_array[0].b_empty_array, $.b_array[0].b_array[0].b_null, $.b_array[1].b_empty_array_nested[2], $.b_array[1].b_array[1].b_str, $.b_obj.b_obj.b_empty_array_nested[2], $.b_obj.b_obj.b_empty_array_nested[1], $.b_obj.b_obj.b_null, $.b_array[1].b_obj.b_num_int, $.b_obj.b_obj.b_num_int, $.b_array[0].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_empty_obj_nested.o2, $.b_str, $.b_empty_obj_nested.o2, $.b_obj.b_array[0].b_null, $.b_empty_obj_nested.o3, $.b_array[1].b_empty_array, $.b_array[1].b_array[1].b_num_float, $.b_array[0].b_obj.b_empty_array, $.b_obj.b_array[1].b_empty_array, $.b_array[0].b_obj.b_null, $.b_num_int, $.b_array[1].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_null, $.b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[0].b_empty_array_nested[2], $.b_array[1].b_array[0].b_empty_array_nested[1], $.b_obj.b_bool, $.b_obj.b_array[0].b_num_float, $.b_obj.b_array[1].b_num_int, $.b_array[1].b_array[0].b_num_float, $.b_array[0].b_empty_array_nested[2], $.b_array[0].b_empty_array_nested[1], $.b_array[1].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_num_int, $.b_array[0].b_num_float, $.b_array[1].b_num_float, $.b_array[1].b_array[0].b_bool, $.b_array[0].b_obj.b_empty_array_nested[2], $.b_obj.b_num_float, $.b_array[0].b_obj.b_empty_array_nested[1], $.b_array[0].b_obj.b_num_float, $.b_array[0].b_null, $.b_array[0].b_obj.b_num_int, $.b_empty_array, $.b_array[0].b_array[1].b_num_int, $.b_obj.b_array[1].b_empty_array_nested[2], $.b_obj.b_array[1].b_empty_array_nested[1], $.b_array[0].b_num_int, $.b_array[1].b_array[0].b_null, $.b_array[1].b_obj.b_null, $.b_array[0].b_array[1].b_empty_array_nested[2], $.b_obj.b_obj.b_bool, $.b_array[0].b_array[0].b_bool, $.b_obj.b_obj.b_empty_array, $.b_array[0].b_array[1].b_str, $.b_array[1].b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_array_nested[2], $.b_obj.b_null, $.b_obj.b_array[1].b_str, $.b_obj.b_empty_array_nested[2], $.b_array[0].b_array[0].b_num_int, $.b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_array[1].b_null, $.b_obj.b_array[0].b_empty_array, $.b_array[0].b_array[1].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_obj_nested.o3, $.b_array[0].b_array[1].b_bool, $.b_obj.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_str, $.b_obj.b_obj.b_str, $.b_array[1].b_obj.b_num_float] |
| [$.b_array[1].b_bool, $.b_array[1].b_array[0].b_num_int, $.b_array[0].b_array[0].b_num_float, $.b_obj.b_array[0].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_array_nested[2], $.b_array[0].b_obj.b_bool, $.b_array[1].b_obj.b_str, $.b_obj.b_num_int, $.b_array[0].b_array[1].b_null, $.b_obj.b_array[0].b_bool, $.b_array[1].b_array[0].b_str, $.b_num_float, $.b_array[0].b_array[1].b_empty_obj_nested.o3, $.b_obj.b_str, $.b_array[0].b_str, $.b_array[0].b_bool, $.b_array[0].b_array[1].b_empty_obj_nested.o2, $.b_null, $.b_obj.b_obj.b_empty_obj_nested.o3, $.b_obj.b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[1].b_empty_array, $.b_array[0].b_array[0].b_empty_array_nested[1], $.b_array[0].b_array[0].b_empty_array_nested[2], $.b_obj.b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_array, $.b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_str, $.b_obj.b_array[1].b_bool, $.b_obj.b_array[0].b_str, $.b_obj.b_array[0].b_num_int, $.b_array[1].b_str, $.b_obj.b_array[1].b_num_float, $.b_bool, $.b_array[1].b_obj.b_bool, $.b_array[1].b_obj.b_empty_array, $.b_array[1].b_array[1].b_empty_array, $.b_empty_array_nested[2], $.b_empty_array_nested[1], $.b_array[1].b_array[1].b_bool, $.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_array_nested[2], $.b_obj.b_empty_array, $.b_array[0].b_empty_array, $.b_obj.b_obj.b_num_float, $.b_array[1].b_array[1].b_num_int, $.b_obj.b_array[1].b_null, $.b_array[0].b_array[1].b_num_float, $.b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_array[0].b_empty_array, $.b_array[0].b_array[0].b_null, $.b_array[1].b_empty_array_nested[2], $.b_array[1].b_array[1].b_str, $.b_obj.b_obj.b_empty_array_nested[2], $.b_obj.b_obj.b_empty_array_nested[1], $.b_obj.b_obj.b_null, $.b_array[1].b_obj.b_num_int, $.b_obj.b_obj.b_num_int, $.b_array[0].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_empty_obj_nested.o2, $.b_str, $.b_empty_obj_nested.o2, $.b_obj.b_array[0].b_null, $.b_empty_obj_nested.o3, $.b_array[1].b_empty_array, $.b_array[1].b_array[1].b_num_float, $.b_array[0].b_obj.b_empty_array, $.b_obj.b_array[1].b_empty_array, $.b_array[0].b_obj.b_null, $.b_num_int, $.b_array[1].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_null, $.b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[0].b_empty_array_nested[2], $.b_array[1].b_array[0].b_empty_array_nested[1], $.b_obj.b_bool, $.b_obj.b_array[0].b_num_float, $.b_obj.b_array[1].b_num_int, $.b_array[1].b_array[0].b_num_float, $.b_array[0].b_empty_array_nested[2], $.b_array[0].b_empty_array_nested[1], $.b_array[1].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_num_int, $.b_array[0].b_num_float, $.b_array[1].b_num_float, $.b_array[1].b_array[0].b_bool, $.b_array[0].b_obj.b_empty_array_nested[2], $.b_obj.b_num_float, $.b_array[0].b_obj.b_empty_array_nested[1], $.b_array[0].b_obj.b_num_float, $.b_array[0].b_null, $.b_array[0].b_obj.b_num_int, $.b_empty_array, $.b_array[0].b_array[1].b_num_int, $.b_obj.b_array[1].b_empty_array_nested[2], $.b_obj.b_array[1].b_empty_array_nested[1], $.b_array[0].b_num_int, $.b_array[1].b_array[0].b_null, $.b_array[1].b_obj.b_null, $.b_array[0].b_array[1].b_empty_array_nested[2], $.b_obj.b_obj.b_bool, $.b_array[0].b_array[0].b_bool, $.b_obj.b_obj.b_empty_array, $.b_array[0].b_array[1].b_str, $.b_array[1].b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_array_nested[2], $.b_obj.b_null, $.b_obj.b_array[1].b_str, $.b_obj.b_empty_array_nested[2], $.b_array[0].b_array[0].b_num_int, $.b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_array[1].b_null, $.b_obj.b_array[0].b_empty_array, $.b_array[0].b_array[1].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_obj_nested.o3, $.b_array[0].b_array[1].b_bool, $.b_obj.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_str, $.b_obj.b_obj.b_str, $.b_array[1].b_obj.b_num_float] |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(3 rows)

!ok

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A099 TYPE: NEGATIVE TEST
#-------------------------------------------------------------------------
SELECT json_paths(json_query(c1, '$.a_obj.a_obj')) c
FROM test_json_cols
UNION ALL
SELECT json_paths(json_query(c1, '$.a_obj.a_obj')) c
FROM test_json_cols;
Query could not be planned
!error

#-------------------------------------------------------------------------
# TESTCASE: test_func_json_paths TEST_ID: A100 TYPE: POSITIVE TEST
#-------------------------------------------------------------------------

SELECT json_paths(c1)
FROM test_json_cols;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| EXPR$0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [$.a_array[1].a_array[1].a_str, $.a_obj.a_obj.a_bool, $.a_array[1].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_array[0].a_empty_obj_nested.o3, $.a_obj.a_array[0].a_num_float, $.a_array[1].a_array[0].a_empty_array_nested[1], $.a_array[1].a_array[0].a_empty_array_nested[2], $.a_obj.a_array[0].a_str, $.a_obj.a_array[1].a_null, $.a_str, $.a_array[0].a_obj.a_num_float, $.a_null, $.a_array[0].a_str, $.a_array[1].a_num_float, $.a_array[1].a_array[1].a_num_float, $.a_array[1].a_obj.a_bool, $.a_array[1].a_array[1].a_null, $.a_obj.a_array[1].a_num_float, $.a_array[1].a_num_int, $.a_num_int, $.a_array[0].a_empty_array_nested[2], $.a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[1].a_bool, $.a_obj.a_array[1].a_str, $.a_array[1].a_null, $.a_array[0].a_empty_obj_nested.o2, $.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_num_float, $.a_array[0].a_num_float, $.a_array[0].a_array[0].a_empty_array, $.a_array[1].a_empty_array, $.a_array[1].a_obj.a_str, $.a_array[0].a_obj.a_num_int, $.a_array[0].a_obj.a_null, $.a_array[1].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_num_float, $.a_array[0].a_num_int, $.a_array[0].a_bool, $.a_array[1].a_array[1].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_num_int, $.a_obj.a_array[0].a_bool, $.a_array[1].a_array[1].a_num_int, $.a_array[0].a_array[0].a_bool, $.a_array[1].a_array[0].a_null, $.a_array[0].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_obj.a_empty_obj_nested.o3, $.a_obj.a_bool, $.a_array[1].a_obj.a_num_float, $.a_obj.a_array[1].a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_empty_array, $.a_obj.a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_obj.a_bool, $.a_obj.a_array[1].a_num_int, $.a_obj.a_array[1].a_bool, $.a_num_float, $.a_array[1].a_str, $.a_array[1].a_empty_obj_nested.o3, $.a_array[1].a_empty_obj_nested.o2, $.a_obj.a_obj.a_empty_array_nested[1], $.a_obj.a_obj.a_empty_array_nested[2], $.a_array[0].a_array[1].a_empty_array_nested[1], $.a_array[0].a_obj.a_str, $.a_array[0].a_array[1].a_empty_array_nested[2], $.a_array[1].a_obj.a_num_int, $.a_obj.a_obj.a_num_int, $.a_array[0].a_array[0].a_str, $.a_obj.a_str, $.a_array[0].a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_obj.a_empty_array, $.a_array[0].a_array[1].a_null, $.a_obj.a_num_float, $.a_array[0].a_array[0].a_num_float, $.a_obj.a_obj.a_empty_array, $.a_obj.a_array[0].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_empty_array, $.a_obj.a_array[0].a_empty_array_nested[1], $.a_obj.a_array[0].a_empty_array_nested[2], $.a_obj.a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_str, $.a_obj.a_null, $.a_array[1].a_bool, $.a_obj.a_empty_obj_nested.o2, $.a_bool, $.a_array[1].a_array[0].a_num_int, $.a_obj.a_obj.a_null, $.a_array[0].a_array[0].a_null, $.a_array[1].a_obj.a_empty_obj_nested.o3, $.a_obj.a_num_int, $.a_array[1].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_array[0].a_empty_obj_nested.o3, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_obj.a_empty_array_nested[1], $.a_obj.a_empty_array_nested[2], $.a_array[1].a_obj.a_empty_array_nested[2], $.a_array[0].a_array[0].a_empty_array_nested[2], $.a_array[1].a_array[1].a_empty_array, $.a_empty_obj_nested.o2, $.a_empty_obj_nested.o3, $.a_array[1].a_obj.a_empty_array_nested[1], $.a_empty_array, $.a_array[0].a_obj.a_empty_array, $.a_array[1].a_array[1].a_empty_array_nested[2], $.a_obj.a_empty_array, $.a_array[1].a_array[1].a_bool, $.a_array[1].a_array[1].a_empty_array_nested[1], $.a_array[0].a_array[0].a_num_int, $.a_obj.a_obj.a_str, $.a_array[0].a_null, $.a_obj.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[2], $.a_array[0].a_obj.a_empty_array_nested[1], $.a_array[0].a_obj.a_empty_array_nested[2], $.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[1], $.a_obj.a_array[0].a_null, $.a_array[1].a_array[0].a_str, $.a_array[1].a_empty_array_nested[1], $.a_array[1].a_array[0].a_bool, $.a_array[0].a_array[1].a_num_int, $.a_array[1].a_empty_array_nested[2], $.a_obj.a_array[1].a_empty_array, $.a_array[0].a_array[1].a_num_float, $.a_array[0].a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_empty_obj_nested.o2, $.a_array[1].a_obj.a_null, $.a_obj.a_obj.a_empty_obj_nested.o3] |
| [$.a_array[1].a_array[1].a_str, $.a_obj.a_obj.a_bool, $.a_array[1].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_array[0].a_empty_obj_nested.o3, $.a_obj.a_array[0].a_num_float, $.a_array[1].a_array[0].a_empty_array_nested[1], $.a_array[1].a_array[0].a_empty_array_nested[2], $.a_obj.a_array[0].a_str, $.a_obj.a_array[1].a_null, $.a_str, $.a_array[0].a_obj.a_num_float, $.a_null, $.a_array[0].a_str, $.a_array[1].a_num_float, $.a_array[1].a_array[1].a_num_float, $.a_array[1].a_obj.a_bool, $.a_array[1].a_array[1].a_null, $.a_obj.a_array[1].a_num_float, $.a_array[1].a_num_int, $.a_num_int, $.a_array[0].a_empty_array_nested[2], $.a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[1].a_bool, $.a_obj.a_array[1].a_str, $.a_array[1].a_null, $.a_array[0].a_empty_obj_nested.o2, $.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_num_float, $.a_array[0].a_num_float, $.a_array[0].a_array[0].a_empty_array, $.a_array[1].a_empty_array, $.a_array[1].a_obj.a_str, $.a_array[0].a_obj.a_num_int, $.a_array[0].a_obj.a_null, $.a_array[1].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_num_float, $.a_array[0].a_num_int, $.a_array[0].a_bool, $.a_array[1].a_array[1].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_num_int, $.a_obj.a_array[0].a_bool, $.a_array[1].a_array[1].a_num_int, $.a_array[0].a_array[0].a_bool, $.a_array[1].a_array[0].a_null, $.a_array[0].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_obj.a_empty_obj_nested.o3, $.a_obj.a_bool, $.a_array[1].a_obj.a_num_float, $.a_obj.a_array[1].a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_empty_array, $.a_obj.a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_obj.a_bool, $.a_obj.a_array[1].a_num_int, $.a_obj.a_array[1].a_bool, $.a_num_float, $.a_array[1].a_str, $.a_array[1].a_empty_obj_nested.o3, $.a_array[1].a_empty_obj_nested.o2, $.a_obj.a_obj.a_empty_array_nested[1], $.a_obj.a_obj.a_empty_array_nested[2], $.a_array[0].a_array[1].a_empty_array_nested[1], $.a_array[0].a_obj.a_str, $.a_array[0].a_array[1].a_empty_array_nested[2], $.a_array[1].a_obj.a_num_int, $.a_obj.a_obj.a_num_int, $.a_array[0].a_array[0].a_str, $.a_obj.a_str, $.a_array[0].a_array[0].a_empty_array_nested[1], $.a_array[0].a_array[0].a_empty_obj_nested.o2, $.a_array[1].a_obj.a_empty_array, $.a_array[0].a_array[1].a_null, $.a_obj.a_num_float, $.a_array[0].a_array[0].a_num_float, $.a_obj.a_obj.a_empty_array, $.a_obj.a_array[0].a_empty_obj_nested.o2, $.a_obj.a_array[0].a_empty_obj_nested.o3, $.a_array[1].a_array[0].a_empty_array, $.a_obj.a_array[0].a_empty_array_nested[1], $.a_obj.a_array[0].a_empty_array_nested[2], $.a_obj.a_empty_obj_nested.o3, $.a_array[0].a_array[1].a_str, $.a_obj.a_null, $.a_array[1].a_bool, $.a_obj.a_empty_obj_nested.o2, $.a_bool, $.a_array[1].a_array[0].a_num_int, $.a_obj.a_obj.a_null, $.a_array[0].a_array[0].a_null, $.a_array[1].a_obj.a_empty_obj_nested.o3, $.a_obj.a_num_int, $.a_array[1].a_obj.a_empty_obj_nested.o2, $.a_array[0].a_array[0].a_empty_obj_nested.o3, $.a_empty_array_nested[1], $.a_empty_array_nested[2], $.a_obj.a_empty_array_nested[1], $.a_obj.a_empty_array_nested[2], $.a_array[1].a_obj.a_empty_array_nested[2], $.a_array[0].a_array[0].a_empty_array_nested[2], $.a_array[1].a_array[1].a_empty_array, $.a_empty_obj_nested.o2, $.a_empty_obj_nested.o3, $.a_array[1].a_obj.a_empty_array_nested[1], $.a_empty_array, $.a_array[0].a_obj.a_empty_array, $.a_array[1].a_array[1].a_empty_array_nested[2], $.a_obj.a_empty_array, $.a_array[1].a_array[1].a_bool, $.a_array[1].a_array[1].a_empty_array_nested[1], $.a_array[0].a_array[0].a_num_int, $.a_obj.a_obj.a_str, $.a_array[0].a_null, $.a_obj.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[2], $.a_array[0].a_obj.a_empty_array_nested[1], $.a_array[0].a_obj.a_empty_array_nested[2], $.a_array[0].a_empty_array, $.a_obj.a_array[1].a_empty_array_nested[1], $.a_obj.a_array[0].a_null, $.a_array[1].a_array[0].a_str, $.a_array[1].a_empty_array_nested[1], $.a_array[1].a_array[0].a_bool, $.a_array[0].a_array[1].a_num_int, $.a_array[1].a_empty_array_nested[2], $.a_obj.a_array[1].a_empty_array, $.a_array[0].a_array[1].a_num_float, $.a_array[0].a_array[1].a_empty_obj_nested.o2, $.a_array[0].a_array[1].a_empty_obj_nested.o3, $.a_obj.a_obj.a_empty_obj_nested.o2, $.a_array[1].a_obj.a_null, $.a_obj.a_obj.a_empty_obj_nested.o3] |
| [$.b_array[1].b_bool, $.b_array[1].b_array[0].b_num_int, $.b_array[0].b_array[0].b_num_float, $.b_obj.b_array[0].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_array_nested[2], $.b_array[0].b_obj.b_bool, $.b_array[1].b_obj.b_str, $.b_obj.b_num_int, $.b_array[0].b_array[1].b_null, $.b_obj.b_array[0].b_bool, $.b_array[1].b_array[0].b_str, $.b_num_float, $.b_array[0].b_array[1].b_empty_obj_nested.o3, $.b_obj.b_str, $.b_array[0].b_str, $.b_array[0].b_bool, $.b_array[0].b_array[1].b_empty_obj_nested.o2, $.b_null, $.b_obj.b_obj.b_empty_obj_nested.o3, $.b_obj.b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[1].b_empty_array, $.b_array[0].b_array[0].b_empty_array_nested[1], $.b_array[0].b_array[0].b_empty_array_nested[2], $.b_obj.b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_array, $.b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_str, $.b_obj.b_array[1].b_bool, $.b_obj.b_array[0].b_str, $.b_obj.b_array[0].b_num_int, $.b_array[1].b_str, $.b_obj.b_array[1].b_num_float, $.b_bool, $.b_array[1].b_obj.b_bool, $.b_array[1].b_obj.b_empty_array, $.b_array[1].b_array[1].b_empty_array, $.b_empty_array_nested[2], $.b_empty_array_nested[1], $.b_array[1].b_array[1].b_bool, $.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_array_nested[2], $.b_obj.b_empty_array, $.b_array[0].b_empty_array, $.b_obj.b_obj.b_num_float, $.b_array[1].b_array[1].b_num_int, $.b_obj.b_array[1].b_null, $.b_array[0].b_array[1].b_num_float, $.b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_array[0].b_empty_array, $.b_array[0].b_array[0].b_null, $.b_array[1].b_empty_array_nested[2], $.b_array[1].b_array[1].b_str, $.b_obj.b_obj.b_empty_array_nested[2], $.b_obj.b_obj.b_empty_array_nested[1], $.b_obj.b_obj.b_null, $.b_array[1].b_obj.b_num_int, $.b_obj.b_obj.b_num_int, $.b_array[0].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_empty_obj_nested.o2, $.b_str, $.b_empty_obj_nested.o2, $.b_obj.b_array[0].b_null, $.b_empty_obj_nested.o3, $.b_array[1].b_empty_array, $.b_array[1].b_array[1].b_num_float, $.b_array[0].b_obj.b_empty_array, $.b_obj.b_array[1].b_empty_array, $.b_array[0].b_obj.b_null, $.b_num_int, $.b_array[1].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_null, $.b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[0].b_empty_array_nested[2], $.b_array[1].b_array[0].b_empty_array_nested[1], $.b_obj.b_bool, $.b_obj.b_array[0].b_num_float, $.b_obj.b_array[1].b_num_int, $.b_array[1].b_array[0].b_num_float, $.b_array[0].b_empty_array_nested[2], $.b_array[0].b_empty_array_nested[1], $.b_array[1].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_num_int, $.b_array[0].b_num_float, $.b_array[1].b_num_float, $.b_array[1].b_array[0].b_bool, $.b_array[0].b_obj.b_empty_array_nested[2], $.b_obj.b_num_float, $.b_array[0].b_obj.b_empty_array_nested[1], $.b_array[0].b_obj.b_num_float, $.b_array[0].b_null, $.b_array[0].b_obj.b_num_int, $.b_empty_array, $.b_array[0].b_array[1].b_num_int, $.b_obj.b_array[1].b_empty_array_nested[2], $.b_obj.b_array[1].b_empty_array_nested[1], $.b_array[0].b_num_int, $.b_array[1].b_array[0].b_null, $.b_array[1].b_obj.b_null, $.b_array[0].b_array[1].b_empty_array_nested[2], $.b_obj.b_obj.b_bool, $.b_array[0].b_array[0].b_bool, $.b_obj.b_obj.b_empty_array, $.b_array[0].b_array[1].b_str, $.b_array[1].b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_array_nested[2], $.b_obj.b_null, $.b_obj.b_array[1].b_str, $.b_obj.b_empty_array_nested[2], $.b_array[0].b_array[0].b_num_int, $.b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_array[1].b_null, $.b_obj.b_array[0].b_empty_array, $.b_array[0].b_array[1].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_obj_nested.o3, $.b_array[0].b_array[1].b_bool, $.b_obj.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_str, $.b_obj.b_obj.b_str, $.b_array[1].b_obj.b_num_float] |
| [$.b_array[1].b_bool, $.b_array[1].b_array[0].b_num_int, $.b_array[0].b_array[0].b_num_float, $.b_obj.b_array[0].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_array_nested[2], $.b_array[0].b_obj.b_bool, $.b_array[1].b_obj.b_str, $.b_obj.b_num_int, $.b_array[0].b_array[1].b_null, $.b_obj.b_array[0].b_bool, $.b_array[1].b_array[0].b_str, $.b_num_float, $.b_array[0].b_array[1].b_empty_obj_nested.o3, $.b_obj.b_str, $.b_array[0].b_str, $.b_array[0].b_bool, $.b_array[0].b_array[1].b_empty_obj_nested.o2, $.b_null, $.b_obj.b_obj.b_empty_obj_nested.o3, $.b_obj.b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[1].b_empty_array, $.b_array[0].b_array[0].b_empty_array_nested[1], $.b_array[0].b_array[0].b_empty_array_nested[2], $.b_obj.b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o2, $.b_obj.b_array[1].b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_array, $.b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_str, $.b_obj.b_array[1].b_bool, $.b_obj.b_array[0].b_str, $.b_obj.b_array[0].b_num_int, $.b_array[1].b_str, $.b_obj.b_array[1].b_num_float, $.b_bool, $.b_array[1].b_obj.b_bool, $.b_array[1].b_obj.b_empty_array, $.b_array[1].b_array[1].b_empty_array, $.b_empty_array_nested[2], $.b_empty_array_nested[1], $.b_array[1].b_array[1].b_bool, $.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_array_nested[2], $.b_obj.b_empty_array, $.b_array[0].b_empty_array, $.b_obj.b_obj.b_num_float, $.b_array[1].b_array[1].b_num_int, $.b_obj.b_array[1].b_null, $.b_array[0].b_array[1].b_num_float, $.b_array[1].b_empty_array_nested[1], $.b_array[1].b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_array[0].b_empty_array, $.b_array[0].b_array[0].b_null, $.b_array[1].b_empty_array_nested[2], $.b_array[1].b_array[1].b_str, $.b_obj.b_obj.b_empty_array_nested[2], $.b_obj.b_obj.b_empty_array_nested[1], $.b_obj.b_obj.b_null, $.b_array[1].b_obj.b_num_int, $.b_obj.b_obj.b_num_int, $.b_array[0].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_obj.b_empty_obj_nested.o2, $.b_str, $.b_empty_obj_nested.o2, $.b_obj.b_array[0].b_null, $.b_empty_obj_nested.o3, $.b_array[1].b_empty_array, $.b_array[1].b_array[1].b_num_float, $.b_array[0].b_obj.b_empty_array, $.b_obj.b_array[1].b_empty_array, $.b_array[0].b_obj.b_null, $.b_num_int, $.b_array[1].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_null, $.b_array[1].b_empty_obj_nested.o2, $.b_array[1].b_empty_obj_nested.o3, $.b_array[1].b_array[0].b_empty_array_nested[2], $.b_array[1].b_array[0].b_empty_array_nested[1], $.b_obj.b_bool, $.b_obj.b_array[0].b_num_float, $.b_obj.b_array[1].b_num_int, $.b_array[1].b_array[0].b_num_float, $.b_array[0].b_empty_array_nested[2], $.b_array[0].b_empty_array_nested[1], $.b_array[1].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_num_int, $.b_array[0].b_num_float, $.b_array[1].b_num_float, $.b_array[1].b_array[0].b_bool, $.b_array[0].b_obj.b_empty_array_nested[2], $.b_obj.b_num_float, $.b_array[0].b_obj.b_empty_array_nested[1], $.b_array[0].b_obj.b_num_float, $.b_array[0].b_null, $.b_array[0].b_obj.b_num_int, $.b_empty_array, $.b_array[0].b_array[1].b_num_int, $.b_obj.b_array[1].b_empty_array_nested[2], $.b_obj.b_array[1].b_empty_array_nested[1], $.b_array[0].b_num_int, $.b_array[1].b_array[0].b_null, $.b_array[1].b_obj.b_null, $.b_array[0].b_array[1].b_empty_array_nested[2], $.b_obj.b_obj.b_bool, $.b_array[0].b_array[0].b_bool, $.b_obj.b_obj.b_empty_array, $.b_array[0].b_array[1].b_str, $.b_array[1].b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_array_nested[2], $.b_obj.b_null, $.b_obj.b_array[1].b_str, $.b_obj.b_empty_array_nested[2], $.b_array[0].b_array[0].b_num_int, $.b_obj.b_empty_array_nested[1], $.b_array[1].b_obj.b_empty_obj_nested.o3, $.b_array[0].b_array[0].b_empty_obj_nested.o3, $.b_array[1].b_obj.b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_empty_obj_nested.o2, $.b_array[1].b_array[1].b_null, $.b_obj.b_array[0].b_empty_array, $.b_array[0].b_array[1].b_empty_array_nested[1], $.b_obj.b_array[0].b_empty_obj_nested.o3, $.b_array[0].b_array[1].b_bool, $.b_obj.b_array[0].b_empty_obj_nested.o2, $.b_array[0].b_array[0].b_str, $.b_obj.b_obj.b_str, $.b_array[1].b_obj.b_num_float] |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
(4 rows)

!ok

[ {
  "stageNumber" : 0,
  "definition" : {
    "id" : "<taskId>_0",
    "input" : [ {
      "type" : "table",
      "dataSource" : "test_json_cols",
      "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
    } ],
    "processor" : {
      "type" : "scan",
      "query" : {
        "queryType" : "scan",
        "dataSource" : {
          "type" : "inputNumber",
          "inputNumber" : 0
        },
        "intervals" : {
          "type" : "intervals",
          "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
        },
        "virtualColumns" : [ {
          "type" : "expression",
          "name" : "v0",
          "expression" : "json_paths(\"c1\")",
          "outputType" : "ARRAY<STRING>"
        } ],
        "resultFormat" : "compactedList",
        "columns" : [ "v0" ],
        "context" : {
          "__user" : null,
          "finalize" : true,
          "maxParseExceptions" : 0,
          "scanSignature" : "[{\"name\":\"v0\",\"type\":\"ARRAY<STRING>\"}]",
          "sqlQueryId" : __SQL_QUERY_ID__
          "sqlStringifyArrays" : false,
          "useApproximateCountDistinct" : "false",
          "windowFunctionOperatorTransformation" : true
        },
        "columnTypes" : [ "ARRAY<STRING>" ],
        "granularity" : {
          "type" : "all"
        },
        "legacy" : false
      }
    },
    "signature" : [ {
      "name" : "__boost",
      "type" : "LONG"
    }, {
      "name" : "v0",
      "type" : "ARRAY<STRING>"
    } ],
    "shuffleSpec" : {
      "type" : "maxCount",
      "clusterBy" : {
        "columns" : [ {
          "columnName" : "__boost",
          "order" : "ASCENDING"
        } ]
      },
      "partitions" : 1
    },
    "maxWorkerCount" : 1
  },
  "phase" : "FINISHED",
  "workerCount" : 1,
  "partitionCount" : 1,
  "shuffle" : "globalSort",
  "output" : "localStorage",
  "startTime" : __TIMESTAMP__
  "duration" : __DURATION__
  "sort" : true
} ]
!msqPlan

#-------------------------------------------------------------------------
# Total query count 101 Positive tests: 97 Negative tests: 4
#-------------------------------------------------------------------------
