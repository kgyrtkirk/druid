{
  "queryType" : "windowOperator",
  "dataSource" : {
    "type" : "query",
    "query" : {
      "queryType" : "scan",
      "dataSource" : {
        "type" : "query",
        "query" : {
          "queryType" : "windowOperator",
          "dataSource" : {
            "type" : "query",
            "query" : {
              "queryType" : "groupBy",
              "dataSource" : {
                "type" : "table",
                "name" : "foo"
              },
              "intervals" : {
                "type" : "intervals",
                "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
              },
              "granularity" : {
                "type" : "all"
              },
              "dimensions" : [ {
                "type" : "default",
                "dimension" : "m2",
                "outputName" : "d0",
                "outputType" : "DOUBLE"
              }, {
                "type" : "default",
                "dimension" : "m1",
                "outputName" : "d1",
                "outputType" : "FLOAT"
              } ],
              "aggregations" : [ {
                "type" : "filtered",
                "aggregator" : {
                  "type" : "count",
                  "name" : "a0"
                },
                "filter" : {
                  "type" : "not",
                  "field" : {
                    "type" : "null",
                    "column" : "m1"
                  }
                },
                "name" : "a0"
              } ],
              "limitSpec" : {
                "type" : "NoopLimitSpec"
              },
              "context" : {
                "enableWindowing" : true,
                "sqlQueryId" : "44c0d4d5-6326-44ee-a1ed-b2e3bf91d43a",
                "vectorize" : "false",
                "vectorizeVirtualColumns" : "false"
              }
            }
          },
          "intervals" : {
            "type" : "LegacySegmentSpec",
            "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
          },
          "context" : {
            "enableWindowing" : true,
            "sqlQueryId" : "44c0d4d5-6326-44ee-a1ed-b2e3bf91d43a",
            "vectorize" : "false",
            "vectorizeVirtualColumns" : "false"
          },
          "outputSignature" : [ {
            "name" : "d0",
            "type" : "DOUBLE"
          }, {
            "name" : "d1",
            "type" : "FLOAT"
          }, {
            "name" : "a0",
            "type" : "LONG"
          }, {
            "name" : "w0",
            "type" : "LONG"
          } ],
          "operatorDefinition" : [ {
            "type" : "naivePartition",
            "partitionColumns" : [ "d0" ]
          }, {
            "type" : "window",
            "processor" : {
              "type" : "rank",
              "group" : [ "d0" ],
              "outputColumn" : "w0",
              "asPercent" : false
            }
          } ],
          "leafOperators" : [ ],
          "granularity" : {
            "type" : "all"
          }
        }
      },
      "intervals" : {
        "type" : "intervals",
        "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
      },
      "resultFormat" : "compactedList",
      "limit" : 10,
      "columns" : [ "a0", "d0", "d1", "w0" ],
      "legacy" : false,
      "context" : {
        "enableWindowing" : true,
        "sqlQueryId" : "44c0d4d5-6326-44ee-a1ed-b2e3bf91d43a",
        "vectorize" : "false",
        "vectorizeVirtualColumns" : "false"
      },
      "granularity" : {
        "type" : "all"
      }
    }
  },
  "intervals" : {
    "type" : "LegacySegmentSpec",
    "intervals" : [ "-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z" ]
  },
  "context" : {
    "enableWindowing" : true,
    "sqlQueryId" : "44c0d4d5-6326-44ee-a1ed-b2e3bf91d43a",
    "vectorize" : "false",
    "vectorizeVirtualColumns" : "false"
  },
  "outputSignature" : [ {
    "name" : "w0",
    "type" : "LONG"
  }, {
    "name" : "a0",
    "type" : "LONG"
  } ],
  "operatorDefinition" : [ {
    "type" : "naiveSort",
    "columns" : [ {
      "column" : "a0",
      "direction" : "ASC"
    } ]
  }, {
    "type" : "scan",
    "timeRange" : null,
    "filter" : null,
    "offsetLimit" : null,
    "projectedColumns" : [ "w0", "a0" ],
    "virtualColumns" : null,
    "ordering" : null
  } ],
  "leafOperators" : [ {
    "type" : "scan",
    "timeRange" : null,
    "filter" : null,
    "offsetLimit" : {
      "offset" : 0,
      "limit" : 9223372036854775807
    },
    "projectedColumns" : [ "a0", "w0" ],
    "virtualColumns" : null,
    "ordering" : null
  } ],
  "granularity" : {
    "type" : "all"
  }
}
